[supervisord]
childlogdir = {{ project_path }}/var/log
logfile = {{ project_path }}/var/log/supervisord.log
logfile_maxbytes = 50MB
logfile_backups = 10
loglevel = info
pidfile = {{ project_path }}/var/supervisord.pid
umask = 022
nocleanup = false

[inet_http_server]
port = {{ supervisor_port }}
username = sdfsdfsdf
password = aosdifsdf

[supervisorctl]
serverurl = http://localhost:{{ supervisor_port }}
username = sdfsdfsdf
password = aosdifsdf

[rpcinterface:supervisor]
supervisor.rpcinterface_factory = supervisor.rpcinterface:make_main_rpcinterface

{% if 'gunicorn' in supervisor_programs %}

[program:gunicorn]
command = /usr/local/bin/pipenv run gunicorn --bind=0.0.0.0:{{ gunicorn_port }} --workers={{ gunicorn_workers }} --timeout=90 --preload {{ package_name }}.wsgi
process_name = gunicorn
directory = {{ project_path }}
priority = 10
redirect_stderr = false
autostart = true
autorestart = true

{% endif %}
